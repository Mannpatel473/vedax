<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 - Page Not Found | Catch the 404 Game</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }
        
        .game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }
        
        .falling-number {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            transition: all 0.1s ease;
        }
        
        .falling-number.target {
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700;
        }
        
        .basket {
            position: absolute;
            bottom: 20px;
            width: 80px;
            height: 60px;
            background: linear-gradient(45deg, #8B4513, #D2691E);
            border-radius: 0 0 40px 40px;
            border: 3px solid #654321;
            transition: left 0.1s ease;
        }
        
        .basket::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -5px;
            right: -5px;
            height: 20px;
            background: linear-gradient(45deg, #8B4513, #D2691E);
            border: 3px solid #654321;
            border-radius: 10px;
        }
        
        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="white" opacity="0.8"/><circle cx="80" cy="30" r="1" fill="white" opacity="0.6"/><circle cx="40" cy="60" r="1" fill="white" opacity="0.7"/><circle cx="90" cy="80" r="1" fill="white" opacity="0.5"/><circle cx="10" cy="90" r="1" fill="white" opacity="0.9"/></svg>') repeat;
            animation: twinkle 3s ease-in-out infinite alternate;
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ffd700;
            border-radius: 50%;
            pointer-events: none;
            animation: sparkle 1s ease-out forwards;
        }
        
        @keyframes sparkle {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: scale(1) rotate(180deg);
                opacity: 0;
            }
        }
        
        .game-over {
            animation: gameOverPulse 0.5s ease-in-out;
        }
        
        @keyframes gameOverPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .score-popup {
            animation: scorePopup 0.8s ease-out;
        }
        
        @keyframes scorePopup {
            0% {
                transform: scale(0.5) translateY(0);
                opacity: 1;
            }
            50% {
                transform: scale(1.2) translateY(-20px);
                opacity: 1;
            }
            100% {
                transform: scale(1) translateY(-40px);
                opacity: 0;
            }
        }
        
        .infinite-lives {
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700;
        }
    </style>
</head>
<body>
    <div class="stars"></div>
    <div class="game-container" id="gameContainer">
        <!-- Game UI -->
        <div class="absolute top-4 left-4 right-4 flex justify-between items-center z-10">
            <div class="text-white">
                <div class="text-2xl font-bold">Score: <span id="score">0</span></div>
                <div class="text-sm infinite-lives">Lives: <span id="lives">∞</span></div>
            </div>
            <div class="text-white text-right">
                <div class="text-lg">Time: <span id="time">60</span>s</div>
                <div class="text-sm">Level: <span id="level">1</span></div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="flex flex-col items-center justify-center h-full text-center text-white" id="mainContent">
            <div class="mb-8">
                <h1 class="text-8xl font-bold mb-4 text-yellow-300">404</h1>
                <h2 class="text-3xl mb-4">Oops! Page Not Found</h2>
                <p class="text-xl mb-8 max-w-md">
                    Don't worry! While you're here, help us catch the missing 404 numbers!
                </p>
            </div>
            
            <div class="space-y-4">
                <button onclick="startGame()" class="btn-hover bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-bold py-3 px-8 rounded-full text-lg transition-all duration-300">
                    <i class="fas fa-play mr-2"></i>Start Game
                </button>
                <button onclick="goHome()" class="btn-hover bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full text-lg transition-all duration-300">
                    <i class="fas fa-home mr-2"></i>Go Home
                </button>
            </div>
            
            <div class="mt-8 text-sm opacity-75">
                <p><i class="fas fa-info-circle mr-2"></i>Use arrow keys or mouse to move the basket</p>
                <p><i class="fas fa-target mr-2"></i>Catch the golden 404 numbers for points!</p>
                <p class="infinite-lives"><i class="fas fa-infinity mr-2"></i>Unlimited lives - play until time runs out!</p>
            </div>
        </div>
        
        <!-- Game Over Screen -->
        <div class="hidden flex flex-col items-center justify-center h-full text-center text-white" id="gameOverScreen">
            <div class="game-over bg-black bg-opacity-50 p-8 rounded-2xl">
                <h2 class="text-6xl font-bold mb-4 text-yellow-400">Time's Up!</h2>
                <div class="text-2xl mb-4">Final Score: <span id="finalScore" class="text-yellow-300">0</span></div>
                <div class="text-lg mb-6">
                    <div>404s Caught: <span id="targetsHit" class="text-green-400">0</span></div>
                    <div>Wrong Numbers: <span id="mistakes" class="text-orange-400">0</span></div>
                    <div>Level Reached: <span id="finalLevel" class="text-blue-400">1</span></div>
                </div>
                <div class="space-y-3">
                    <button onclick="startGame()" class="btn-hover bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-bold py-3 px-8 rounded-full text-lg transition-all duration-300">
                        <i class="fas fa-redo mr-2"></i>Play Again
                    </button>
                    <button onclick="showMainMenu()" class="btn-hover bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full text-lg transition-all duration-300">
                        <i class="fas fa-arrow-left mr-2"></i>Main Menu
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Game Canvas -->
        <div class="absolute inset-0 hidden" id="gameCanvas">
            <div class="basket" id="basket"></div>
        </div>
    </div>

    <script>
        let gameState = {
            isPlaying: false,
            score: 0,
            level: 1,
            time: 60,
            basketX: 50,
            fallingNumbers: [],
            gameSpeed: 1,
            spawnRate: 0.02,
            targetsHit: 0,
            mistakes: 0,
            gameInterval: null,
            timerInterval: null
        };

        const basket = document.getElementById('basket');
        const gameContainer = document.getElementById('gameContainer');
        const mainContent = document.getElementById('mainContent');
        const gameOverScreen = document.getElementById('gameOverScreen');
        const gameCanvas = document.getElementById('gameCanvas');

        function startGame() {
            // Reset game state
            gameState = {
                ...gameState,
                isPlaying: true,
                score: 0,
                level: 1,
                time: 60,
                basketX: 50,
                fallingNumbers: [],
                gameSpeed: 1,
                spawnRate: 0.02,
                targetsHit: 0,
                mistakes: 0
            };

            // Show game canvas
            mainContent.classList.add('hidden');
            gameOverScreen.classList.add('hidden');
            gameCanvas.classList.remove('hidden');

            // Update UI
            updateUI();

            // Start game loop
            gameState.gameInterval = setInterval(gameLoop, 16); // ~60fps
            gameState.timerInterval = setInterval(updateTimer, 1000);

            // Set up controls
            setupControls();
        }

        function gameLoop() {
            if (!gameState.isPlaying) return;

            // Spawn falling numbers
            if (Math.random() < gameState.spawnRate) {
                spawnFallingNumber();
            }

            // Update falling numbers
            updateFallingNumbers();

            // Check collisions
            checkCollisions();

            // Update level
            updateLevel();
        }

        function spawnFallingNumber() {
            const number = document.createElement('div');
            const isTarget = Math.random() < 0.3; // 30% chance for 404
            const x = Math.random() * (window.innerWidth - 50);
            
            number.className = 'falling-number' + (isTarget ? ' target' : '');
            number.textContent = isTarget ? '404' : Math.floor(Math.random() * 900) + 100;
            number.style.left = x + 'px';
            number.style.top = '-50px';
            number.dataset.y = '-50';
            number.dataset.isTarget = isTarget;
            
            gameContainer.appendChild(number);
            gameState.fallingNumbers.push(number);
        }

        function updateFallingNumbers() {
            gameState.fallingNumbers.forEach((number, index) => {
                const currentY = parseInt(number.dataset.y);
                const newY = currentY + (2 * gameState.gameSpeed);
                
                number.style.top = newY + 'px';
                number.dataset.y = newY;
                
                // Remove if off screen - no penalty for missing numbers
                if (newY > window.innerHeight) {
                    number.remove();
                    gameState.fallingNumbers.splice(index, 1);
                }
            });
        }

        function checkCollisions() {
            const basketRect = basket.getBoundingClientRect();
            
            gameState.fallingNumbers.forEach((number, index) => {
                const numberRect = number.getBoundingClientRect();
                
                if (basketRect.left < numberRect.right &&
                    basketRect.right > numberRect.left &&
                    basketRect.top < numberRect.bottom &&
                    basketRect.bottom > numberRect.top) {
                    
                    // Collision detected
                    if (number.dataset.isTarget === 'true') {
                        // Caught a 404!
                        gameState.score += 100 * gameState.level;
                        gameState.targetsHit++;
                        createScorePopup(numberRect.left, numberRect.top, '+' + (100 * gameState.level));
                        createParticles(numberRect.left + 25, numberRect.top + 12);
                    } else {
                        // Caught wrong number - no penalty, just track it
                        gameState.mistakes++;
                        createScorePopup(numberRect.left, numberRect.top, 'Wrong!', 'text-orange-400');
                    }
                    
                    number.remove();
                    gameState.fallingNumbers.splice(index, 1);
                    updateUI();
                }
            });
        }

        function updateLevel() {
            const newLevel = Math.floor(gameState.score / 1000) + 1;
            if (newLevel > gameState.level) {
                gameState.level = newLevel;
                gameState.gameSpeed += 0.2;
                gameState.spawnRate += 0.005;
                updateUI();
            }
        }

        function updateTimer() {
            gameState.time--;
            updateUI();
            
            if (gameState.time <= 0) {
                endGame();
            }
        }

        function endGame() {
            gameState.isPlaying = false;
            clearInterval(gameState.gameInterval);
            clearInterval(gameState.timerInterval);
            
            // Clear falling numbers
            gameState.fallingNumbers.forEach(number => number.remove());
            gameState.fallingNumbers = [];
            
            // Show game over screen
            gameCanvas.classList.add('hidden');
            gameOverScreen.classList.remove('hidden');
            
            // Update final scores
            document.getElementById('finalScore').textContent = gameState.score;
            document.getElementById('targetsHit').textContent = gameState.targetsHit;
            document.getElementById('mistakes').textContent = gameState.mistakes;
            document.getElementById('finalLevel').textContent = gameState.level;
        }

        function showMainMenu() {
            gameOverScreen.classList.add('hidden');
            mainContent.classList.remove('hidden');
        }

        function updateUI() {
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('lives').textContent = '∞';
            document.getElementById('time').textContent = gameState.time;
            document.getElementById('level').textContent = gameState.level;
        }

        function setupControls() {
            // Keyboard controls
            document.addEventListener('keydown', (e) => {
                if (!gameState.isPlaying) return;
                
                switch(e.key) {
                    case 'ArrowLeft':
                        gameState.basketX = Math.max(0, gameState.basketX - 5);
                        break;
                    case 'ArrowRight':
                        gameState.basketX = Math.min(100, gameState.basketX + 5);
                        break;
                }
                
                updateBasketPosition();
            });

            // Mouse controls
            gameContainer.addEventListener('mousemove', (e) => {
                if (!gameState.isPlaying) return;
                
                const containerRect = gameContainer.getBoundingClientRect();
                const mouseX = e.clientX - containerRect.left;
                gameState.basketX = (mouseX / containerRect.width) * 100;
                gameState.basketX = Math.max(0, Math.min(100, gameState.basketX));
                
                updateBasketPosition();
            });

            // Touch controls
            gameContainer.addEventListener('touchmove', (e) => {
                if (!gameState.isPlaying) return;
                e.preventDefault();
                
                const containerRect = gameContainer.getBoundingClientRect();
                const touchX = e.touches[0].clientX - containerRect.left;
                gameState.basketX = (touchX / containerRect.width) * 100;
                gameState.basketX = Math.max(0, Math.min(100, gameState.basketX));
                
                updateBasketPosition();
            });
        }

        function updateBasketPosition() {
            basket.style.left = gameState.basketX + '%';
        }

        function createScorePopup(x, y, text, className = 'text-yellow-300') {
            const popup = document.createElement('div');
            popup.className = `absolute text-2xl font-bold ${className} score-popup pointer-events-none`;
            popup.style.left = x + 'px';
            popup.style.top = y + 'px';
            popup.textContent = text;
            
            gameContainer.appendChild(popup);
            
            setTimeout(() => {
                popup.remove();
            }, 800);
        }

        function createParticles(x, y) {
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = x + (Math.random() - 0.5) * 30 + 'px';
                particle.style.top = y + (Math.random() - 0.5) * 30 + 'px';
                
                gameContainer.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 1000);
            }
        }

        function goHome() {
            window.location.href = '/';
        }

        // Initialize basket position
        updateBasketPosition();
    </script>
</body>
</html>
